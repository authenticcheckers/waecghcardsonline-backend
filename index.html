<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>waeccardsonline — Instant WASSCE Vouchers</title>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
<style>
.gold{color:#d4af37}
.glass{backdrop-filter:blur(8px);background:rgba(255,255,255,0.03)}
</style>
</head>
<body class="bg-[#07132b] text-white min-h-screen">
<nav class="p-6 flex justify-between max-w-6xl mx-auto">
  <div class="flex items-center gap-3"><div class="w-12 h-12 rounded bg-[#d4af37] text-[#07132b] flex items-center justify-center font-bold">W</div><div>waeccardsonline</div></div>
  <div class="flex gap-4 items-center"><a href="#how" class="text-white/80">How</a><a href="/admin/login.html" class="text-white/80">Admin</a></div>
</nav>

<section class="max-w-3xl mx-auto text-center py-20">
  <h1 class="text-4xl font-bold mb-4">Buy WASSCE Checker Vouchers <span class="gold">Instantly</span></h1>
  <p class="text-white/70 mb-8">Secure payments via Paystack. Receive your voucher by SMS.</p>

  <div class="glass p-8 rounded-xl">
    <form id="buyForm" class="space-y-4">
      <input id="name" placeholder="Full name" class="w-full p-3 rounded bg-white/5" required/>
      <input id="phone" placeholder="Phone (e.g. 0244...)" class="w-full p-3 rounded bg-white/5" required/>
      <input id="email" placeholder="Email (optional)" class="w-full p-3 rounded bg-white/5"/>
      <button class="w-full py-3 bg-[#d4af37] text-[#07132b] font-bold rounded">Pay GHS 25</button>
    </form>
  </div>
</section>

<section id="how" class="max-w-4xl mx-auto p-6">
  <h2 class="text-2xl font-bold mb-4">How it works</h2>
  <ol class="list-decimal list-inside text-white/70">
    <li>Enter your details and pay</li>
    <li>We verify payment and reserve a voucher</li>
    <li>Voucher is sent to your phone by SMS</li>
  </ol>
</section>

<section id="faq" class="max-w-4xl mx-auto p-6">
  <h2 class="text-2xl font-bold mb-4">FAQ</h2>
  <div class="text-white/70">If you don't receive SMS contact support: <a href="mailto:gyimahseth51@gmail.com" class="gold">gyimahseth51@gmail.com</a></div>
</section>

<footer class="text-center text-white/60 py-6">© 2025 waeccardsonline</footer>

<script src="https://js.paystack.co/v1/inline.js"></script>
<script>
const BACKEND = (location.hostname === 'localhost') ? 'http://localhost:3000' : window.location.origin;

document.getElementById('buyForm').addEventListener('submit', function(e){
  e.preventDefault();
  const name=document.getElementById('name').value.trim();
  const phone=document.getElementById('phone').value.trim();
  const email=document.getElementById('email').value.trim();
  if(!name||!phone){ alert('Name and phone required'); return; }

  const handler = PaystackPop.setup({
    key: 'REPLACE_PAYSTACK_PUBLIC_KEY',
    email: email || 'no-reply@waeccardsonline.online',
    amount: 2500,
    currency: 'GHS',
    metadata: {
      custom_fields: [
        { display_name: 'phone', variable_name: 'phone', value: phone },
        { display_name: 'email', variable_name: 'email', value: email }
      ]
    },
    callback: function(response){
      // verify payment with backend
      fetch(BACKEND + '/verify-payment', {
        method:'POST', headers:{'Content-Type':'application/json'},
        body: JSON.stringify({ reference: response.reference, name, phone, email })
      }).then(r=>r.json()).then(data=>{
        if(data.success){
          // show voucher (simple)
          alert('Payment OK. Voucher: ' + data.voucher);
        } else {
          alert('Payment verified but delivery failed: ' + (data.message || 'Contact support'));
        }
      }).catch(err=>{ alert('Server error'); });
    },
    onClose: function(){ alert('Payment cancelled'); }
  });
  handler.openIframe();
});
</script>
</body>
</html>
